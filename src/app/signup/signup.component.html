<!-- Login -->
<div id="registration">
  <!-- Register Area -->
  <div id="login-area" class="container">
    <p>Já tem login?</p>
    <button id="register-button" name="register-button" type="submit" class="btn btn-success" routerLink="/login">Entrar</button>
  </div>

  <!-- Registration Area -->
  <div id="registration-area">
    <div class="container">
      <div class="row">
        <h3>Cadastre-se</h3>
        <hr>
        <form method="post" (ngSubmit)="onSubmit(form)" #form="ngForm">
          <!-- Username -->
          <div class="form-group">
            <label for="username">Usuário</label>
            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text" id="fa-user-1"><i class="fa fa-user"></i></span>
              </div>
              <input type="text" name="username" class="form-control" placeholder="Usuário" aria-label="Usuário" aria-describedby="fa-user-1" (keyup)="isUsernameOK($event)" ngModel>
            </div>
            <small class="form-text text-danger" *ngIf="! isUsernameValid">{{msgErroUsername}}</small>
          </div>

          <!-- Email -->
          <div class="form-group">
            <label for="email">Email</label>
            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text" id="fa-envelope-1"><i class="fa fa-envelope-o"></i></span>
              </div>
              <input type="email" name="email" class="form-control" placeholder="Email" aria-label="Email" aria-describedby="fa-envelope-1" (keyup)="isEmailOK($event)" ngModel>
            </div>
            <small>Nós não compartilhamos seu email com terceiros</small><small class="form-text text-danger" *ngIf="! isEmailValid">{{msgErroEmail}}</small>
          </div>

          <!-- Password -->
          <div class="form-group">
            <label for="password">Senha</label>
            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text" id="fa-key-1"><i class="fa fa-key"></i></span>
              </div>
              <input type="password" id="password" name="password" class="form-control" placeholder="Senha" aria-label="Senha" aria-describedby="fa-key-1" (keyup)="isPasswordOK($event)" ngModel>
            </div>
            <small class="form-text text-danger" *ngIf="! isPasswordValid">{{msgErroPassword}}</small>
          </div>

          <!-- Address -->
          <div class="form-group">
            <label>Estado</label>
            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text" id="fa-home-1"><i class="fa fa-home"></i></span>
              </div>
              <select id="state" name="state" class="form-control col-sm-3 col-md-3" (change)="getCities($event)" ngModel>
                <option value="">---</option>
                <option [value]="state.state" *ngFor="let state of states">{{ state.state }}</option>
              </select>
              <select id="city" name="city" class="form-control col-sm-9 col-md-9" (change)="getCity($event)" ngModel>
                <option value="">Cidade</option>
                <option [value]="city.city" *ngFor="let city of cities">{{ city.city }}</option>
              </select>
            </div>
            <small class="form-text text-danger" *ngIf="! isAddressValid">{{msgErroAddress}}</small> 
          </div>

          <!-- Check for Receiving Emails -->
          <div class="form-check">
            <input type="checkbox" class="form-check-input" id="accepts_newsletters" name="accepts_newsletters" ngModel>
            <label class="form-check-label" for="accepts_newsletters">Aceito receber emails profissionais</label>
          </div>

          <!-- Registration Button -->
          <div class="form-group">
            <button id="registration-button" name="registration-button" type="submit" class="btn btn-success" [disabled]="isDisabled" data-toggle="modal" data-target="#exampleModal">Confirmar Cadastro</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Registration</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <!-- Username -->
        <div class="form-group">
          <label for="username">Username:</label>
          <small id="username" name="username">{{ form.value.username }}</small>
        </div>

        <!-- Email -->
        <div class="form-group">
          <label for="email">Email:</label>
          <small id="email" name="email">{{ form.value.email }}</small>
        </div>

        <!-- State -->
        <div class="form-group">
          <label for="state">State:</label>
          <small id="state" name="state">{{ form.value.state }}</small>
        </div>

        <!-- City -->
        <div class="form-group">
          <label for="city">City:</label>
          <small id="city" name="city">{{ form.value.city }}</small>
        </div>

        <!-- Accepts NewsLetters -->
        <div class="form-group">
          <label for="accepts_newsletters">Accepts Newsletters:</label>
          <small id="accepts_newsletters" name="accepts_newsletters">{{ form.value.accepts_newsletters }}</small>
        </div>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
        <button type="button" class="btn btn-primary">Salvar</button>
      </div>
    </div>
  </div>
</div>